# LTI - Applicant Tracking System del Futuro

## 1. DescripciÃ³n del Software

### 1.1 Â¿QuÃ© es LTI?

**LTI** (Leading Talent Intelligence) es un sistema de seguimiento de candidatos (ATS) de nueva generaciÃ³n diseÃ±ado para transformar radicalmente la forma en que las empresas atraen, evalÃºan y contratan talento. A diferencia de los ATS tradicionales que funcionan como simples bases de datos de CVs, LTI actÃºa como un **copiloto inteligente** para todo el equipo de contrataciÃ³n.

### 1.2 Valor AÃ±adido

| Aspecto | ATS Tradicional | LTI |
|---------|-----------------|-----|
| **Screening de CVs** | Manual o keywords bÃ¡sicos | IA que entiende contexto y potencial |
| **ColaboraciÃ³n** | Comentarios asÃ­ncronos | Tiempo real tipo Figma |
| **ComunicaciÃ³n** | Emails genÃ©ricos | Personalizada y automatizada con IA |
| **Analytics** | Reportes estÃ¡ticos | Insights predictivos y prescriptivos |
| **Experiencia candidato** | Portal bÃ¡sico | App moderna con transparencia total |

### 1.3 Ventajas Competitivas

1. **IA Generativa Nativa**: No es un add-on, estÃ¡ integrada en el core del producto.
   - GeneraciÃ³n automÃ¡tica de descripciones de puesto
   - ResÃºmenes inteligentes de candidatos
   - Sugerencias de preguntas de entrevista personalizadas
   - AnÃ¡lisis de fit cultural basado en valores de empresa

2. **ColaboraciÃ³n en Tiempo Real**: Inspirado en herramientas modernas como Figma y Notion.
   - MÃºltiples usuarios editando simultÃ¡neamente
   - Cursores en vivo y presencia de equipo
   - Decisiones de contrataciÃ³n sincronizadas

3. **AutomatizaciÃ³n Inteligente**: Workflows que aprenden y se adaptan.
   - Triggers basados en comportamiento
   - Escalado automÃ¡tico de urgencias
   - Re-engagement de candidatos pasivos

4. **Candidate Experience Premium**: El candidato como cliente.
   - Portal transparente con estado en tiempo real
   - Feedback constructivo automatizado
   - Scheduling inteligente sin fricciones

5. **Integraciones sin CÃ³digo**: Conecta con tu stack existente en minutos.
   - 200+ conectores pre-construidos
   - API abierta y webhooks
   - Marketplace de extensiones

---

## 2. Funciones Principales

### 2.1 GestiÃ³n de Ofertas de Empleo

- **CreaciÃ³n asistida por IA**: Genera descripciones optimizadas para SEO y diversidad
- **Multi-posting automÃ¡tico**: Publica en 50+ job boards con un clic
- **Landing pages personalizadas**: Cada oferta con su micrositio de marca
- **A/B testing de ofertas**: Optimiza tÃ­tulos y descripciones

### 2.2 Pipeline de Candidatos

- **Kanban visual**: Arrastra y suelta candidatos entre etapas
- **Vistas personalizables**: Lista, tabla, calendario, timeline
- **Filtros avanzados**: Por skills, experiencia, scoring, ubicaciÃ³n
- **Bulk actions**: Acciones masivas con confirmaciÃ³n inteligente

### 2.3 Screening Inteligente

- **AI Scoring**: PuntuaciÃ³n 0-100 basada en fit con el puesto
- **Parsing avanzado**: Extrae datos estructurados de cualquier formato
- **DetecciÃ³n de duplicados**: Identifica candidatos que ya aplicaron
- **AnÃ¡lisis de red flags**: Alertas sobre inconsistencias

### 2.4 EvaluaciÃ³n y Entrevistas

- **Scorecards estructuradas**: Plantillas personalizables por rol
- **Scheduling automÃ¡tico**: IntegraciÃ³n con calendarios y zonas horarias
- **Video interviews**: Plataforma integrada o conexiÃ³n con Zoom/Teams
- **Evaluaciones tÃ©cnicas**: IntegraciÃ³n con plataformas de coding tests

### 2.5 ColaboraciÃ³n en Tiempo Real

- **Comentarios contextuales**: En cualquier parte del perfil
- **@menciones y notificaciones**: MantÃ©n al equipo informado
- **Panel de decisiÃ³n**: VotaciÃ³n y consenso estructurado
- **Activity feed**: Historial completo de interacciones

### 2.6 ComunicaciÃ³n con Candidatos

- **Email templates con IA**: PersonalizaciÃ³n automÃ¡tica
- **Secuencias automatizadas**: Nurturing de candidatos
- **WhatsApp/SMS integration**: ComunicaciÃ³n omnicanal
- **Chatbot para FAQs**: Responde preguntas frecuentes 24/7

### 2.7 Analytics y Reporting

- **Dashboard en tiempo real**: KPIs de recruiting
- **Funnel analysis**: Identifica cuellos de botella
- **Time-to-hire tracking**: Por departamento, rol, recruiter
- **DEI metrics**: Diversidad en cada etapa del pipeline
- **Predictive analytics**: Proyecciones de contrataciÃ³n

### 2.8 AdministraciÃ³n y Compliance

- **GestiÃ³n de permisos granular**: Por equipo, departamento, ubicaciÃ³n
- **Audit trail completo**: Cumplimiento GDPR/CCPA
- **Data retention policies**: Configurables por jurisdicciÃ³n
- **SSO y 2FA**: Seguridad enterprise

---

## 3. Lean Canvas

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    PROBLEMA     â”‚    SOLUCIÃ“N     â”‚ PROPUESTA VALOR â”‚VENTAJA ESPECIAL â”‚    SEGMENTOS    â”‚
â”‚                 â”‚                 â”‚     ÃšNICA       â”‚                 â”‚    CLIENTES     â”‚
â”‚ 1. Procesos de  â”‚ 1. IA generativaâ”‚                 â”‚                 â”‚                 â”‚
â”‚    recruiting   â”‚    para auto-   â”‚ "El Ãºnico ATS   â”‚ TecnologÃ­a IA   â”‚ 1. Empresas     â”‚
â”‚    manuales y   â”‚    matizar      â”‚  que piensa     â”‚ propietaria de  â”‚    medianas     â”‚
â”‚    lentos       â”‚    screening    â”‚  contigo, no    â”‚ matching y      â”‚    (50-500 emp) â”‚
â”‚                 â”‚                 â”‚  solo almacena  â”‚ scoring de      â”‚                 â”‚
â”‚ 2. Falta de     â”‚ 2. ColaboraciÃ³n â”‚  datos"         â”‚ candidatos      â”‚ 2. Scale-ups    â”‚
â”‚    colaboraciÃ³n â”‚    tiempo real  â”‚                 â”‚                 â”‚    en           â”‚
â”‚    entre HR y   â”‚    estilo Figma â”‚                 â”‚ Early mover en  â”‚    crecimiento  â”‚
â”‚    hiring       â”‚                 â”‚                 â”‚ colaboraciÃ³n    â”‚                 â”‚
â”‚    managers     â”‚ 3. Portal de    â”‚                 â”‚ real-time para  â”‚ 3. Empresas     â”‚
â”‚                 â”‚    candidato    â”‚                 â”‚ ATS             â”‚    tech-first   â”‚
â”‚ 3. Mala         â”‚    transparente â”‚                 â”‚                 â”‚                 â”‚
â”‚    experiencia  â”‚                 â”‚                 â”‚                 â”‚                 â”‚
â”‚    del          â”‚                 â”‚                 â”‚                 â”‚                 â”‚
â”‚    candidato    â”‚                 â”‚                 â”‚                 â”‚                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                 â”‚                                                     â”‚                 â”‚
â”‚  MÃ‰TRICAS       â”‚                    CANALES                          â”‚  ESTRUCTURA     â”‚
â”‚  CLAVE          â”‚                                                     â”‚  DE COSTES      â”‚
â”‚                 â”‚  1. Marketing de contenido (blog, webinars)         â”‚                 â”‚
â”‚ - MRR/ARR       â”‚  2. SEO/SEM para "ATS software"                     â”‚ - Desarrollo    â”‚
â”‚ - Time-to-hire  â”‚  3. Partnerships con consultoras HR                 â”‚   producto 40%  â”‚
â”‚   de clientes   â”‚  4. Product-led growth (trial gratuito)             â”‚ - Infra cloud   â”‚
â”‚ - NPS de        â”‚  5. Eventos HR Tech                                 â”‚   20%           â”‚
â”‚   candidatos    â”‚                                                     â”‚ - Sales &       â”‚
â”‚ - Churn rate    â”‚                                                     â”‚   Marketing 30% â”‚
â”‚ - Usuarios      â”‚                                                     â”‚ - G&A 10%       â”‚
â”‚   activos       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                 â”‚
â”‚                 â”‚                                                     â”‚                 â”‚
â”‚                 â”‚               FUENTES DE INGRESOS                   â”‚                 â”‚
â”‚                 â”‚                                                     â”‚                 â”‚
â”‚                 â”‚  1. SaaS subscription (por usuario/mes)             â”‚                 â”‚
â”‚                 â”‚     - Starter: $49/user/mes                         â”‚                 â”‚
â”‚                 â”‚     - Professional: $99/user/mes                    â”‚                 â”‚
â”‚                 â”‚     - Enterprise: Custom                            â”‚                 â”‚
â”‚                 â”‚  2. Add-ons: AI credits, integraciones premium      â”‚                 â”‚
â”‚                 â”‚  3. Services: ImplementaciÃ³n, training              â”‚                 â”‚
â”‚                 â”‚                                                     â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Diagrama Lean Canvas (Mermaid)

```mermaid
mindmap
  root((LTI ATS))
    Problema
      Recruiting manual y lento
      Falta colaboraciÃ³n HR-Managers
      Mala experiencia candidato
      Datos dispersos sin insights
    SoluciÃ³n
      IA Generativa integrada
      ColaboraciÃ³n tiempo real
      Portal candidato transparente
      Analytics predictivos
    Propuesta Valor
      ATS que piensa contigo
      Reduce time-to-hire 50%
      Mejora candidate NPS
    Ventaja Competitiva
      IA propietaria
      Early mover real-time
      UX moderna
    Segmentos
      Empresas medianas
      Scale-ups tech
      Empresas tech-first
    Canales
      Content marketing
      SEO/SEM
      Partnerships HR
      Product-led growth
    MÃ©tricas
      MRR/ARR
      Time-to-hire
      NPS candidatos
      Churn rate
    Costes
      Desarrollo 40%
      Infra cloud 20%
      Sales/Mkt 30%
      G&A 10%
    Ingresos
      SaaS subscription
      AI credits
      Services
```

---

## 4. Casos de Uso Principales

### 4.1 Caso de Uso 1: PublicaciÃ³n y Screening de Ofertas con IA

**DescripciÃ³n**: Un recruiter necesita crear una nueva oferta de empleo, publicarla en mÃºltiples plataformas y realizar el screening inicial de los candidatos que apliquen, todo con asistencia de IA.

**Actores**:
- Recruiter (primario)
- Sistema de IA
- Job Boards externos
- Candidatos

**Precondiciones**:
- El recruiter estÃ¡ autenticado en el sistema
- Existe al menos un hiring manager asignado al departamento

**Flujo Principal**:
1. El recruiter accede al mÃ³dulo de ofertas
2. Selecciona "Crear nueva oferta con IA"
3. Ingresa tÃ­tulo del puesto y requisitos bÃ¡sicos
4. La IA genera descripciÃ³n completa, requisitos y beneficios
5. El recruiter revisa y ajusta el contenido
6. Selecciona job boards para publicaciÃ³n
7. El sistema publica automÃ¡ticamente en todas las plataformas
8. Los candidatos aplican a travÃ©s de los diferentes canales
9. El sistema parsea CVs y extrae informaciÃ³n estructurada
10. La IA calcula score de match para cada candidato
11. El recruiter visualiza candidatos ordenados por score
12. Selecciona candidatos para siguiente fase

**Postcondiciones**:
- Oferta publicada en mÃºltiples plataformas
- Candidatos con scoring automÃ¡tico
- Pipeline inicial creado

**Diagrama de Caso de Uso**:

```mermaid
graph TB
    subgraph Actores
        R[ğŸ‘¤ Recruiter]
        C[ğŸ‘¥ Candidatos]
        JB[ğŸŒ Job Boards]
    end

    subgraph "Sistema LTI - PublicaciÃ³n y Screening"
        UC1((Crear oferta<br/>con IA))
        UC2((Generar<br/>descripciÃ³n))
        UC3((Publicar en<br/>job boards))
        UC4((Recibir<br/>aplicaciones))
        UC5((Parsear CV))
        UC6((Calcular<br/>AI Score))
        UC7((Visualizar<br/>pipeline))
    end

    R --> UC1
    UC1 -->|include| UC2
    UC1 --> UC3
    UC3 --> JB
    JB --> UC4
    C --> UC4
    UC4 -->|include| UC5
    UC5 -->|include| UC6
    R --> UC7
    UC6 --> UC7

    style UC1 fill:#e1f5fe
    style UC2 fill:#fff3e0
    style UC6 fill:#fff3e0
```

---

### 4.2 Caso de Uso 2: EvaluaciÃ³n Colaborativa de Candidatos

**DescripciÃ³n**: El equipo de contrataciÃ³n (recruiter, hiring manager, entrevistadores) evalÃºa colaborativamente a un candidato, compartiendo feedback en tiempo real y llegando a una decisiÃ³n de consenso.

**Actores**:
- Recruiter
- Hiring Manager
- Entrevistadores
- Candidato (indirecto)

**Precondiciones**:
- Candidato ha pasado el screening inicial
- Entrevistas programadas y completadas
- Scorecards disponibles para el rol

**Flujo Principal**:
1. El hiring manager accede al perfil del candidato
2. Ve en tiempo real quiÃ©n mÃ¡s estÃ¡ viendo el perfil (presencia)
3. Completa su scorecard de evaluaciÃ³n
4. AÃ±ade comentarios contextuales sobre respuestas especÃ­ficas
5. @menciona al recruiter para discutir un punto
6. El recruiter responde en tiempo real
7. Los entrevistadores completan sus scorecards
8. El sistema calcula score promedio y muestra comparativa
9. Se abre panel de decisiÃ³n colaborativa
10. Cada participante vota: Contratar / No contratar / Necesita mÃ¡s info
11. Se alcanza consenso
12. El sistema registra la decisiÃ³n y notifica siguiente paso

**Postcondiciones**:
- Candidato con decisiÃ³n registrada
- Historial completo de evaluaciÃ³n
- PrÃ³ximos pasos activados

**Diagrama de Caso de Uso**:

```mermaid
graph TB
    subgraph Actores
        RE[ğŸ‘¤ Recruiter]
        HM[ğŸ‘” Hiring Manager]
        EN[ğŸ‘¥ Entrevistadores]
    end

    subgraph "Sistema LTI - EvaluaciÃ³n Colaborativa"
        UC1((Ver perfil<br/>en tiempo real))
        UC2((Completar<br/>scorecard))
        UC3((AÃ±adir<br/>comentarios))
        UC4((Mencionar<br/>colaboradores))
        UC5((Ver presencia<br/>del equipo))
        UC6((Calcular score<br/>promedio))
        UC7((Panel de<br/>decisiÃ³n))
        UC8((Votar<br/>decisiÃ³n))
        UC9((Registrar<br/>consenso))
    end

    RE --> UC1
    HM --> UC1
    EN --> UC1
    UC1 -->|include| UC5
    HM --> UC2
    EN --> UC2
    UC2 --> UC6
    RE --> UC3
    HM --> UC3
    UC3 -->|extend| UC4
    RE --> UC7
    HM --> UC7
    UC7 -->|include| UC8
    UC8 --> UC9

    style UC1 fill:#e8f5e9
    style UC5 fill:#e8f5e9
    style UC7 fill:#fce4ec
    style UC9 fill:#fce4ec
```

---

### 4.3 Caso de Uso 3: ProgramaciÃ³n AutomÃ¡tica de Entrevistas

**DescripciÃ³n**: El sistema coordina automÃ¡ticamente la programaciÃ³n de entrevistas entre mÃºltiples participantes, considerando disponibilidad, zonas horarias y preferencias, minimizando el trabajo manual del recruiter.

**Actores**:
- Recruiter
- Candidato
- Entrevistadores
- Sistema de Calendario (Google/Outlook)

**Precondiciones**:
- Candidato aprobado para entrevista
- Entrevistadores definidos para el proceso
- Calendarios conectados al sistema

**Flujo Principal**:
1. El recruiter selecciona candidato para entrevistar
2. Define tipo de entrevista y participantes requeridos
3. El sistema consulta disponibilidad de todos los calendarios
4. Calcula slots Ã³ptimos considerando zonas horarias
5. Presenta opciones al recruiter
6. El recruiter aprueba envÃ­o de propuestas al candidato
7. El candidato recibe link para seleccionar horario preferido
8. El candidato elige slot disponible
9. El sistema crea evento en todos los calendarios
10. EnvÃ­a confirmaciones con links de videoconferencia
11. Crea recordatorios automÃ¡ticos (24h, 1h antes)
12. Actualiza el estado del candidato en el pipeline

**Flujos Alternativos**:
- **4a**: No hay slots comunes â†’ Sistema sugiere entrevistas parciales
- **8a**: Candidato no responde en 48h â†’ Reminder automÃ¡tico
- **8b**: Candidato solicita otras fechas â†’ Recruiter recibe notificaciÃ³n

**Postcondiciones**:
- Entrevista programada en todos los calendarios
- Candidato y entrevistadores notificados
- Pipeline actualizado

**Diagrama de Caso de Uso**:

```mermaid
graph TB
    subgraph Actores
        RE[ğŸ‘¤ Recruiter]
        CA[ğŸ‘¤ Candidato]
        EN[ğŸ‘¥ Entrevistadores]
        CAL[ğŸ“… Calendarios]
    end

    subgraph "Sistema LTI - Scheduling AutomÃ¡tico"
        UC1((Iniciar<br/>programaciÃ³n))
        UC2((Definir<br/>participantes))
        UC3((Consultar<br/>disponibilidad))
        UC4((Calcular slots<br/>Ã³ptimos))
        UC5((Enviar propuesta<br/>al candidato))
        UC6((Seleccionar<br/>horario))
        UC7((Crear eventos<br/>en calendarios))
        UC8((Enviar<br/>confirmaciones))
        UC9((Programar<br/>recordatorios))
        UC10((Actualizar<br/>pipeline))
    end

    RE --> UC1
    UC1 --> UC2
    UC2 --> UC3
    CAL --> UC3
    UC3 --> UC4
    UC4 --> UC5
    CA --> UC6
    UC6 --> UC7
    UC7 --> CAL
    UC7 -->|include| UC8
    UC8 --> CA
    UC8 --> EN
    UC7 -->|include| UC9
    UC7 -->|include| UC10

    style UC3 fill:#e3f2fd
    style UC4 fill:#fff3e0
    style UC7 fill:#e8f5e9
```

---

## 5. Modelo de Datos

### 5.1 Diagrama Entidad-RelaciÃ³n

```mermaid
erDiagram
    ORGANIZATION ||--o{ USER : "has"
    ORGANIZATION ||--o{ DEPARTMENT : "has"
    ORGANIZATION ||--o{ JOB_POSTING : "creates"

    USER ||--o{ USER_ROLE : "has"
    USER ||--o{ COMMENT : "writes"
    USER ||--o{ INTERVIEW : "conducts"
    USER ||--o{ EVALUATION : "submits"

    DEPARTMENT ||--o{ JOB_POSTING : "owns"

    JOB_POSTING ||--o{ APPLICATION : "receives"
    JOB_POSTING ||--o{ PIPELINE_STAGE : "has"
    JOB_POSTING }|--|| HIRING_TEAM : "assigned to"

    HIRING_TEAM ||--o{ USER : "includes"

    CANDIDATE ||--o{ APPLICATION : "submits"
    CANDIDATE ||--|| CANDIDATE_PROFILE : "has"
    CANDIDATE ||--o{ DOCUMENT : "uploads"

    APPLICATION ||--o{ APPLICATION_STAGE : "progresses"
    APPLICATION ||--o{ EVALUATION : "receives"
    APPLICATION ||--o{ INTERVIEW : "scheduled"
    APPLICATION ||--o{ COMMENT : "has"
    APPLICATION ||--o{ AI_SCORE : "has"

    PIPELINE_STAGE ||--o{ APPLICATION_STAGE : "contains"

    INTERVIEW ||--o{ INTERVIEW_PARTICIPANT : "has"
    INTERVIEW ||--|| SCORECARD : "uses"

    SCORECARD ||--o{ SCORECARD_CRITERIA : "contains"
    EVALUATION ||--o{ EVALUATION_SCORE : "contains"

    CANDIDATE_PROFILE {
        uuid id PK
        uuid candidate_id FK
        jsonb parsed_cv
        text[] skills
        text[] experience
        text[] education
        float ai_embedding
        timestamp updated_at
    }

    ORGANIZATION {
        uuid id PK
        string name
        string domain
        jsonb settings
        string subscription_tier
        timestamp created_at
    }

    USER {
        uuid id PK
        uuid organization_id FK
        string email
        string name
        string avatar_url
        string timezone
        boolean is_active
        timestamp last_login
    }

    USER_ROLE {
        uuid id PK
        uuid user_id FK
        enum role_type
        uuid scope_id
        string scope_type
    }

    DEPARTMENT {
        uuid id PK
        uuid organization_id FK
        string name
        uuid parent_id FK
    }

    JOB_POSTING {
        uuid id PK
        uuid organization_id FK
        uuid department_id FK
        string title
        text description
        text requirements
        text benefits
        enum status
        enum employment_type
        string location
        boolean remote_allowed
        jsonb salary_range
        timestamp published_at
        timestamp closes_at
    }

    PIPELINE_STAGE {
        uuid id PK
        uuid job_posting_id FK
        string name
        int order
        enum stage_type
        boolean is_active
    }

    HIRING_TEAM {
        uuid id PK
        uuid job_posting_id FK
        uuid user_id FK
        enum team_role
    }

    CANDIDATE {
        uuid id PK
        string email
        string phone
        string name
        string linkedin_url
        string source
        boolean gdpr_consent
        timestamp created_at
    }

    APPLICATION {
        uuid id PK
        uuid job_posting_id FK
        uuid candidate_id FK
        enum status
        string source
        timestamp applied_at
        timestamp updated_at
    }

    APPLICATION_STAGE {
        uuid id PK
        uuid application_id FK
        uuid pipeline_stage_id FK
        uuid moved_by FK
        timestamp entered_at
        timestamp exited_at
    }

    AI_SCORE {
        uuid id PK
        uuid application_id FK
        float overall_score
        jsonb skill_matches
        jsonb experience_match
        jsonb cultural_fit
        text summary
        timestamp calculated_at
    }

    DOCUMENT {
        uuid id PK
        uuid candidate_id FK
        enum document_type
        string filename
        string storage_url
        timestamp uploaded_at
    }

    INTERVIEW {
        uuid id PK
        uuid application_id FK
        uuid scorecard_id FK
        enum interview_type
        timestamp scheduled_at
        int duration_minutes
        string meeting_url
        enum status
    }

    INTERVIEW_PARTICIPANT {
        uuid id PK
        uuid interview_id FK
        uuid user_id FK
        enum participant_role
        enum attendance_status
    }

    SCORECARD {
        uuid id PK
        uuid organization_id FK
        string name
        enum interview_type
        boolean is_default
    }

    SCORECARD_CRITERIA {
        uuid id PK
        uuid scorecard_id FK
        string name
        text description
        int weight
        int order
    }

    EVALUATION {
        uuid id PK
        uuid application_id FK
        uuid interview_id FK
        uuid user_id FK
        enum recommendation
        text overall_notes
        timestamp submitted_at
    }

    EVALUATION_SCORE {
        uuid id PK
        uuid evaluation_id FK
        uuid criteria_id FK
        int score
        text notes
    }

    COMMENT {
        uuid id PK
        uuid application_id FK
        uuid user_id FK
        text content
        uuid parent_id FK
        uuid[] mentions
        timestamp created_at
    }
```

### 5.2 DescripciÃ³n de Entidades Principales

#### ORGANIZATION
Representa una empresa cliente de LTI.

| Atributo | Tipo | DescripciÃ³n |
|----------|------|-------------|
| id | UUID | Identificador Ãºnico |
| name | VARCHAR(255) | Nombre de la organizaciÃ³n |
| domain | VARCHAR(255) | Dominio de email corporativo |
| settings | JSONB | Configuraciones personalizadas |
| subscription_tier | VARCHAR(50) | Nivel de suscripciÃ³n |
| created_at | TIMESTAMP | Fecha de registro |

#### USER
Usuarios del sistema (recruiters, hiring managers, etc.).

| Atributo | Tipo | DescripciÃ³n |
|----------|------|-------------|
| id | UUID | Identificador Ãºnico |
| organization_id | UUID | FK a organization |
| email | VARCHAR(255) | Email Ãºnico |
| name | VARCHAR(255) | Nombre completo |
| avatar_url | VARCHAR(500) | URL de foto de perfil |
| timezone | VARCHAR(50) | Zona horaria preferida |
| is_active | BOOLEAN | Estado de la cuenta |
| last_login | TIMESTAMP | Ãšltimo acceso |

#### JOB_POSTING
Ofertas de empleo publicadas.

| Atributo | Tipo | DescripciÃ³n |
|----------|------|-------------|
| id | UUID | Identificador Ãºnico |
| organization_id | UUID | FK a organization |
| department_id | UUID | FK a department |
| title | VARCHAR(255) | TÃ­tulo del puesto |
| description | TEXT | DescripciÃ³n generada/editada |
| requirements | TEXT | Requisitos del puesto |
| benefits | TEXT | Beneficios ofrecidos |
| status | ENUM | draft, published, closed, archived |
| employment_type | ENUM | full_time, part_time, contract, internship |
| location | VARCHAR(255) | UbicaciÃ³n del puesto |
| remote_allowed | BOOLEAN | Permite trabajo remoto |
| salary_range | JSONB | {min, max, currency, period} |
| published_at | TIMESTAMP | Fecha de publicaciÃ³n |
| closes_at | TIMESTAMP | Fecha lÃ­mite |

#### CANDIDATE
Personas que aplican a ofertas.

| Atributo | Tipo | DescripciÃ³n |
|----------|------|-------------|
| id | UUID | Identificador Ãºnico |
| email | VARCHAR(255) | Email de contacto |
| phone | VARCHAR(50) | TelÃ©fono |
| name | VARCHAR(255) | Nombre completo |
| linkedin_url | VARCHAR(500) | Perfil de LinkedIn |
| source | VARCHAR(100) | Origen del candidato |
| gdpr_consent | BOOLEAN | Consentimiento GDPR |
| created_at | TIMESTAMP | Primera aplicaciÃ³n |

#### APPLICATION
AplicaciÃ³n de un candidato a una oferta especÃ­fica.

| Atributo | Tipo | DescripciÃ³n |
|----------|------|-------------|
| id | UUID | Identificador Ãºnico |
| job_posting_id | UUID | FK a job_posting |
| candidate_id | UUID | FK a candidate |
| status | ENUM | active, hired, rejected, withdrawn |
| source | VARCHAR(100) | Canal de aplicaciÃ³n |
| applied_at | TIMESTAMP | Fecha de aplicaciÃ³n |
| updated_at | TIMESTAMP | Ãšltima actualizaciÃ³n |

#### AI_SCORE
PuntuaciÃ³n calculada por IA para matching.

| Atributo | Tipo | DescripciÃ³n |
|----------|------|-------------|
| id | UUID | Identificador Ãºnico |
| application_id | UUID | FK a application |
| overall_score | FLOAT | Score general 0-100 |
| skill_matches | JSONB | Detalle de match por skill |
| experience_match | JSONB | AnÃ¡lisis de experiencia |
| cultural_fit | JSONB | Indicadores de fit cultural |
| summary | TEXT | Resumen generado por IA |
| calculated_at | TIMESTAMP | Fecha de cÃ¡lculo |

#### INTERVIEW
Entrevistas programadas.

| Atributo | Tipo | DescripciÃ³n |
|----------|------|-------------|
| id | UUID | Identificador Ãºnico |
| application_id | UUID | FK a application |
| scorecard_id | UUID | FK a scorecard |
| interview_type | ENUM | phone, video, onsite, technical |
| scheduled_at | TIMESTAMP | Fecha/hora programada |
| duration_minutes | INT | DuraciÃ³n planificada |
| meeting_url | VARCHAR(500) | URL de videoconferencia |
| status | ENUM | scheduled, completed, cancelled, no_show |

#### EVALUATION
EvaluaciÃ³n de un entrevistador sobre un candidato.

| Atributo | Tipo | DescripciÃ³n |
|----------|------|-------------|
| id | UUID | Identificador Ãºnico |
| application_id | UUID | FK a application |
| interview_id | UUID | FK a interview (opcional) |
| user_id | UUID | FK a user (evaluador) |
| recommendation | ENUM | strong_hire, hire, no_hire, strong_no_hire |
| overall_notes | TEXT | Notas generales |
| submitted_at | TIMESTAMP | Fecha de envÃ­o |

---

## 6. DiseÃ±o de Alto Nivel

### 6.1 DescripciÃ³n de la Arquitectura

LTI utiliza una **arquitectura de microservicios** con los siguientes principios:

1. **Event-Driven**: Los servicios se comunican principalmente mediante eventos asÃ­ncronos, lo que permite:
   - ColaboraciÃ³n en tiempo real
   - Desacoplamiento entre servicios
   - Escalabilidad independiente

2. **API-First**: Cada servicio expone una API REST documentada, y existe un API Gateway central.

3. **CQRS para lectura intensiva**: SeparaciÃ³n de modelos de lectura y escritura donde el rendimiento lo requiere.

4. **Multi-tenant**: Datos aislados por organizaciÃ³n con posibilidad de instancias dedicadas para enterprise.

### 6.2 Componentes Principales

| Componente | Responsabilidad | TecnologÃ­a |
|------------|-----------------|------------|
| **API Gateway** | Routing, auth, rate limiting | Kong / AWS API Gateway |
| **Auth Service** | AutenticaciÃ³n, SSO, tokens | Node.js + Passport |
| **Job Service** | CRUD de ofertas, publicaciÃ³n | Python + FastAPI |
| **Candidate Service** | GestiÃ³n de candidatos y CVs | Python + FastAPI |
| **Application Service** | Pipeline, estados, workflows | Python + FastAPI |
| **AI Service** | Scoring, generaciÃ³n, parsing | Python + LangChain |
| **Collaboration Service** | Real-time, presencia, comments | Node.js + Socket.io |
| **Notification Service** | Emails, push, webhooks | Node.js + Bull |
| **Scheduling Service** | Calendarios, entrevistas | Node.js + Temporal |
| **Analytics Service** | MÃ©tricas, reportes | Python + Apache Spark |
| **Integration Service** | Conectores externos | Node.js + n8n |

### 6.3 Diagrama de Arquitectura

```mermaid
flowchart TB
    subgraph Clients["Clientes"]
        WEB[Web App<br/>React]
        MOB[Mobile App<br/>React Native]
        EXT[Integraciones<br/>Externas]
    end

    subgraph Edge["Edge Layer"]
        CDN[CDN<br/>CloudFront]
        LB[Load Balancer<br/>ALB]
        GW[API Gateway<br/>Kong]
    end

    subgraph Core["Core Services"]
        AUTH[Auth Service]
        JOB[Job Service]
        CAND[Candidate Service]
        APP[Application Service]
        COLLAB[Collaboration Service]
        SCHED[Scheduling Service]
    end

    subgraph AI["AI Layer"]
        AIS[AI Service]
        EMB[Embedding Service]
        LLM[LLM Gateway<br/>OpenAI/Claude]
    end

    subgraph Supporting["Supporting Services"]
        NOTIF[Notification Service]
        INTEG[Integration Service]
        ANLYT[Analytics Service]
    end

    subgraph Data["Data Layer"]
        PG[(PostgreSQL<br/>Primary DB)]
        REDIS[(Redis<br/>Cache/Sessions)]
        ES[(Elasticsearch<br/>Search)]
        S3[(S3<br/>Documents)]
        VECTOR[(Pinecone<br/>Vector DB)]
    end

    subgraph Messaging["Event Bus"]
        KAFKA[Apache Kafka]
    end

    WEB --> CDN
    MOB --> LB
    EXT --> GW
    CDN --> LB
    LB --> GW

    GW --> AUTH
    GW --> JOB
    GW --> CAND
    GW --> APP
    GW --> COLLAB
    GW --> SCHED

    AUTH --> REDIS
    AUTH --> PG

    JOB --> PG
    JOB --> ES
    JOB --> KAFKA

    CAND --> PG
    CAND --> S3
    CAND --> ES
    CAND --> KAFKA

    APP --> PG
    APP --> KAFKA

    COLLAB --> REDIS
    COLLAB --> KAFKA

    SCHED --> PG
    SCHED --> KAFKA

    AIS --> LLM
    AIS --> VECTOR
    EMB --> VECTOR

    KAFKA --> AIS
    KAFKA --> NOTIF
    KAFKA --> ANLYT
    KAFKA --> INTEG

    NOTIF --> PG
    ANLYT --> PG
    INTEG --> KAFKA

    style AI fill:#fff3e0
    style Core fill:#e3f2fd
    style Data fill:#e8f5e9
```

### 6.4 Flujo de Datos Principal

1. **Request Flow**:
   - Cliente â†’ CDN â†’ Load Balancer â†’ API Gateway â†’ Servicio
   - API Gateway valida JWT con Auth Service
   - Servicio procesa request y persiste en PostgreSQL

2. **Event Flow**:
   - Servicio publica evento en Kafka
   - Servicios subscriptores reaccionan (ej: AI procesa nuevo CV)
   - Collaboration Service emite via WebSocket a clientes conectados

3. **AI Flow**:
   - Candidate Service publica evento `cv.uploaded`
   - AI Service consume evento, procesa con LLM
   - Genera embeddings y almacena en Vector DB
   - Publica evento `score.calculated`
   - Application Service actualiza score del candidato

---

## 7. Diagrama C4 - AI Service

Se presenta el diagrama C4 del **AI Service**, componente crÃ­tico para la diferenciaciÃ³n de LTI.

### 7.1 Nivel 1: Contexto del Sistema

```mermaid
C4Context
    title Diagrama de Contexto - Sistema LTI

    Person(recruiter, "Recruiter", "Usuario que gestiona procesos de selecciÃ³n")
    Person(candidate, "Candidato", "Persona que aplica a ofertas")
    Person(manager, "Hiring Manager", "EvalÃºa y decide contrataciones")

    System(lti, "LTI ATS", "Sistema de tracking de candidatos con IA")

    System_Ext(linkedin, "LinkedIn", "Red profesional")
    System_Ext(jobboards, "Job Boards", "Indeed, Glassdoor, etc.")
    System_Ext(calendar, "Calendar APIs", "Google, Outlook")
    System_Ext(llm, "LLM Providers", "OpenAI, Anthropic")

    Rel(recruiter, lti, "Gestiona ofertas y candidatos")
    Rel(candidate, lti, "Aplica a ofertas")
    Rel(manager, lti, "EvalÃºa candidatos")

    Rel(lti, linkedin, "Importa perfiles")
    Rel(lti, jobboards, "Publica ofertas")
    Rel(lti, calendar, "Programa entrevistas")
    Rel(lti, llm, "Genera contenido IA")
```

### 7.2 Nivel 2: Contenedores

```mermaid
C4Container
    title Diagrama de Contenedores - LTI ATS

    Person(user, "Usuario", "Recruiter/Manager")

    Container(spa, "Web Application", "React, TypeScript", "Interfaz de usuario SPA")
    Container(gw, "API Gateway", "Kong", "Routing, Auth, Rate Limiting")

    Container_Boundary(core, "Core Services") {
        Container(job, "Job Service", "Python/FastAPI", "GestiÃ³n de ofertas")
        Container(cand, "Candidate Service", "Python/FastAPI", "GestiÃ³n de candidatos")
        Container(app, "Application Service", "Python/FastAPI", "Pipeline y workflows")
        Container(collab, "Collaboration Service", "Node.js/Socket.io", "Real-time features")
    }

    Container_Boundary(ai, "AI Layer") {
        Container(aisvc, "AI Service", "Python/FastAPI", "OrquestaciÃ³n de IA")
    }

    ContainerDb(pg, "PostgreSQL", "Database", "Datos transaccionales")
    ContainerDb(redis, "Redis", "Cache", "Sesiones y cache")
    Container(kafka, "Apache Kafka", "Message Broker", "Event streaming")

    System_Ext(llm, "LLM Provider", "OpenAI/Claude API")

    Rel(user, spa, "Usa", "HTTPS")
    Rel(spa, gw, "API Calls", "HTTPS/JSON")
    Rel(spa, collab, "Real-time", "WebSocket")

    Rel(gw, job, "Routes")
    Rel(gw, cand, "Routes")
    Rel(gw, app, "Routes")

    Rel(job, pg, "Reads/Writes")
    Rel(cand, pg, "Reads/Writes")
    Rel(app, pg, "Reads/Writes")

    Rel(job, kafka, "Publishes")
    Rel(cand, kafka, "Publishes")
    Rel(kafka, aisvc, "Consumes")

    Rel(aisvc, llm, "API Calls", "HTTPS")
    Rel(aisvc, kafka, "Publishes")
```

### 7.3 Nivel 3: Componentes del AI Service

```mermaid
C4Component
    title Diagrama de Componentes - AI Service

    Container_Boundary(aisvc, "AI Service") {
        Component(api, "API Controller", "FastAPI", "Endpoints REST para operaciones sincrÃ³nicas")
        Component(consumer, "Event Consumer", "Kafka Consumer", "Procesa eventos asÃ­ncronos")
        Component(orchestrator, "AI Orchestrator", "Python", "Coordina flujos de IA")

        Component(parser, "CV Parser", "Python + spaCy", "Extrae datos estructurados de CVs")
        Component(scorer, "Candidate Scorer", "Python", "Calcula match score con oferta")
        Component(generator, "Content Generator", "Python + LangChain", "Genera descripciones, emails, etc.")
        Component(embedder, "Embedding Generator", "Python", "Genera vectores semÃ¡nticos")
        Component(analyzer, "Sentiment Analyzer", "Python", "Analiza tono de comunicaciones")

        Component(llmclient, "LLM Client", "Python", "AbstracciÃ³n multi-proveedor LLM")
        Component(promptmgr, "Prompt Manager", "Python", "GestiÃ³n de prompts y templates")
        Component(cache, "Response Cache", "Python + Redis", "Cache de respuestas LLM")
    }

    ContainerDb(vector, "Pinecone", "Vector Database", "Embeddings de candidatos y ofertas")
    ContainerDb(redis, "Redis", "Cache", "Cache de respuestas")
    Container(kafka, "Kafka", "Message Broker", "Eventos")
    System_Ext(llm, "LLM APIs", "OpenAI, Anthropic")

    Rel(api, orchestrator, "Invoca")
    Rel(consumer, orchestrator, "Invoca")
    Rel(consumer, kafka, "Consume eventos")

    Rel(orchestrator, parser, "Usa")
    Rel(orchestrator, scorer, "Usa")
    Rel(orchestrator, generator, "Usa")
    Rel(orchestrator, embedder, "Usa")
    Rel(orchestrator, analyzer, "Usa")

    Rel(parser, llmclient, "Usa")
    Rel(scorer, llmclient, "Usa")
    Rel(scorer, embedder, "Usa")
    Rel(generator, llmclient, "Usa")
    Rel(generator, promptmgr, "Usa")
    Rel(embedder, llmclient, "Usa")
    Rel(analyzer, llmclient, "Usa")

    Rel(llmclient, cache, "Lee/Escribe")
    Rel(llmclient, llm, "Invoca", "HTTPS")
    Rel(cache, redis, "Persiste")
    Rel(embedder, vector, "Lee/Escribe")
    Rel(scorer, vector, "Consulta similaridad")

    Rel(orchestrator, kafka, "Publica resultados")
```

### 7.4 Nivel 4: CÃ³digo del Componente Scorer

```mermaid
classDiagram
    class CandidateScorer {
        -EmbeddingGenerator embedder
        -LLMClient llm_client
        -VectorStore vector_store
        -ScoringConfig config
        +calculate_score(application: Application) AIScore
        +batch_score(applications: List~Application~) List~AIScore~
        -calculate_skill_match(candidate: CandidateProfile, job: JobPosting) SkillMatch
        -calculate_experience_match(candidate: CandidateProfile, job: JobPosting) ExperienceMatch
        -calculate_cultural_fit(candidate: CandidateProfile, org: Organization) CulturalFit
        -generate_summary(scores: ScoreComponents) str
    }

    class SkillMatcher {
        -embedder: EmbeddingGenerator
        +extract_skills(text: str) List~Skill~
        +match_skills(candidate_skills: List~Skill~, required_skills: List~Skill~) SkillMatch
        -calculate_similarity(skill1: Skill, skill2: Skill) float
    }

    class ExperienceMatcher {
        -llm_client: LLMClient
        +analyze_experience(cv_text: str, requirements: str) ExperienceMatch
        +calculate_years_match(candidate_years: int, required_years: int) float
        +analyze_industry_relevance(experiences: List~Experience~, industry: str) float
    }

    class CulturalFitAnalyzer {
        -llm_client: LLMClient
        -prompt_manager: PromptManager
        +analyze_fit(candidate_profile: CandidateProfile, org_values: List~str~) CulturalFit
        -extract_indicators(text: str) List~CulturalIndicator~
        -score_alignment(indicators: List~CulturalIndicator~, values: List~str~) float
    }

    class AIScore {
        +id: UUID
        +application_id: UUID
        +overall_score: float
        +skill_matches: SkillMatch
        +experience_match: ExperienceMatch
        +cultural_fit: CulturalFit
        +summary: str
        +calculated_at: datetime
        +confidence: float
    }

    class SkillMatch {
        +matched_skills: List~SkillPair~
        +missing_skills: List~Skill~
        +extra_skills: List~Skill~
        +match_percentage: float
    }

    class ExperienceMatch {
        +years_match: float
        +industry_relevance: float
        +role_progression: float
        +overall_score: float
    }

    class CulturalFit {
        +alignment_score: float
        +positive_indicators: List~str~
        +concerns: List~str~
        +recommendation: str
    }

    CandidateScorer --> SkillMatcher
    CandidateScorer --> ExperienceMatcher
    CandidateScorer --> CulturalFitAnalyzer
    CandidateScorer --> AIScore
    SkillMatcher --> SkillMatch
    ExperienceMatcher --> ExperienceMatch
    CulturalFitAnalyzer --> CulturalFit
    AIScore --> SkillMatch
    AIScore --> ExperienceMatch
    AIScore --> CulturalFit
```

### 7.5 DescripciÃ³n de Componentes del AI Service

| Componente | Responsabilidad | TecnologÃ­a |
|------------|-----------------|------------|
| **API Controller** | Expone endpoints REST para scoring bajo demanda, generaciÃ³n de contenido | FastAPI |
| **Event Consumer** | Consume eventos de Kafka (cv.uploaded, job.created) para procesamiento async | aiokafka |
| **AI Orchestrator** | Coordina el flujo entre componentes segÃºn el tipo de operaciÃ³n | Python async |
| **CV Parser** | Extrae datos estructurados (skills, experiencia, educaciÃ³n) de CVs | spaCy + LLM |
| **Candidate Scorer** | Calcula score de match entre candidato y oferta | Python + embeddings |
| **Content Generator** | Genera descripciones de puesto, emails, feedback | LangChain |
| **Embedding Generator** | Crea representaciones vectoriales de textos | OpenAI embeddings |
| **Sentiment Analyzer** | Analiza tono de comunicaciones candidato-empresa | LLM |
| **LLM Client** | AbstracciÃ³n para mÃºltiples proveedores (OpenAI, Claude) | Python |
| **Prompt Manager** | Gestiona templates de prompts versionados | Python + YAML |
| **Response Cache** | Cachea respuestas LLM para reducir costos y latencia | Redis |

---

## 8. Consideraciones TÃ©cnicas Adicionales

### 8.1 Seguridad

- **AutenticaciÃ³n**: OAuth 2.0 + OpenID Connect, soporte SSO (SAML)
- **AutorizaciÃ³n**: RBAC con permisos granulares por recurso
- **Datos en trÃ¡nsito**: TLS 1.3 obligatorio
- **Datos en reposo**: AES-256 para datos sensibles
- **Compliance**: GDPR, CCPA, SOC 2 Type II

### 8.2 Escalabilidad

- **Horizontal**: Kubernetes con HPA basado en mÃ©tricas
- **Base de datos**: Read replicas para consultas, sharding por org para enterprise
- **Cache**: Redis Cluster para sesiones y datos calientes
- **CDN**: Assets estÃ¡ticos y APIs cacheables

### 8.3 Observabilidad

- **Logs**: ELK Stack centralizado
- **MÃ©tricas**: Prometheus + Grafana
- **Tracing**: Jaeger para distributed tracing
- **Alerting**: PagerDuty integrado

### 8.4 Disaster Recovery

- **RTO**: 4 horas
- **RPO**: 1 hora
- **Backups**: Continuos a S3 cross-region
- **Multi-AZ**: Todos los servicios crÃ­ticos

---

## 9. Roadmap de Desarrollo

### MVP (v1.0) - Funcionalidad Core
- GestiÃ³n de ofertas y candidatos
- Pipeline Kanban bÃ¡sico
- AI Scoring inicial
- Integraciones email bÃ¡sicas

### v1.5 - ColaboraciÃ³n
- Real-time collaboration
- Comentarios y menciones
- Panel de decisiÃ³n

### v2.0 - AI Avanzada
- GeneraciÃ³n de contenido completa
- Matching semÃ¡ntico avanzado
- Chatbot para candidatos

### v2.5 - Enterprise
- SSO/SCIM
- Multi-idioma
- CustomizaciÃ³n avanzada
- API pÃºblica completa
